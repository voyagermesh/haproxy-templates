# HAProxy configuration generated by https://github.com/appscode/voyager
# DO NOT EDIT!

{{ template "global.cfg" . }}

{{ template "defaults.cfg" . }}

{{- range $resolver := .DNSResolvers }}
{{ template "dns-resolver.cfg" $resolver -}}
{{ end }}

{{- if .Stats }}
{{ template "stats.cfg" .Stats -}}
{{ end -}}

{{- range $svc := .HTTPService }}
{{- template "http-frontend.cfg" $svc  }}
{{ template "http-backend.cfg" $svc  }}
{{ end -}}

{{- range $svc := .TCPService }}
{{ template "tcp-frontend.cfg" $svc }}
{{ template "tcp-backend.cfg" $svc }}
{{ end -}}

{{- if and (not .HTTPService) .DefaultBackend }}
{{ template "default-frontend.cfg" .SharedInfo }}
{{ end }}

{{- if .DefaultBackend }}
{{ template "default-backend.cfg" .SharedInfo }}
{{ end }}

{{- if .Auth }}
{{ template "userlist.cfg" .Auth }}
{{ end }}
